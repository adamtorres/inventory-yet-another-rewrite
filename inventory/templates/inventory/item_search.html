{% extends "base.html" %}
{% load static %}

{% block title %}Inventory : Item Search{% endblock %}

{% block content %}
<form id="search_form">
<div>
<label for="search_name">Name:</label>
<input type="text" id="search_name" data-search-field="name" placeholder="name">
</div>
<div>
<label for="search_name2">Second Name:</label>
<input type="text" id="search_name2" data-search-field="name" placeholder="name">
</div>
<div>
<label for="search_exclude_name">Exclude Name:</label>
<input type="text" id="search_exclude_name" data-search-field="-name" placeholder="exclude name">
</div>
<div>
<label for="search_exclude_name2">Second Exclude Name:</label>
<input type="text" id="search_exclude_name2" data-search-field="-name" placeholder="exclude name">
</div>
<div>
<label for="search_category">Category:</label>
<input type="text" id="search_category" data-search-field="category" placeholder="category">
</div>
</form>


<div id="results_in_table">
<hr />
<table style="display: none;">
<tbody>
    <tr id="search_no_result_template_tablerow">
        <td colspan="*">No results</td>
    </tr>
    <tr id="search_result_template_tablerow">
        <td data-field="id" style="display: none;">__id__</td>
        <td><a data-href-fn="get_item_url"><span data-field="name">__name__</span></a></td>
        <td data-field="description">__description__</td>
        <td data-field="category">__category__</td>
    </tr>
</tbody>
</table>

<table>
<thead>
    <tr>
        <th style="display: none;">id</th>
        <th>name</th>
        <th>description</th>
        <th>category</th>
    </tr>
</thead>
<tbody id="search_results_table">
</tbody>
</table>
</div>


<hr />
<ul>
<li><a href="{% url "inventory:item_list" %}">Item List</a></li>
<li><a href="{% url "inventory:item_create" %}">New Item</a></li>
<li><a href="{% url "inventory:homepage" %}">Inventory Homepage</a></li>
</ul>

{% endblock %}
{% block body_scripts %}
<script src="{% static "js/not_jquery.js" %}"></script>
<script src="{% static "js/search.js" %}"></script>
<script>
function get_item_url(item_id) {
    let some_url = "{% url "inventory:item_detail" pk="9999" %}";
    return some_url.replace("9999", `${item_id}`);
}
srch_url = "{% url "inventory:api_item" %}";
result_ids = [
    {
        "result_element_id": "search_results_table",
        "template_id": "search_result_template_tablerow",
        "no_results_template_id": "search_no_result_template_tablerow",
    }
]
</script>
{% endblock %}